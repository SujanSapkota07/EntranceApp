<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizMaster Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles */
        .fade-in {
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.5s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        
        .option-selected {
            background-color: #3b82f6;
            color: white;
        }
        
        .option-correct {
            background-color: #10b981;
            color: white;
        }
        
        .option-incorrect {
            background-color: #ef4444;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Main Container -->
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-indigo-600 text-white shadow-lg">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-question-circle text-2xl"></i>
                    <h1 class="text-2xl font-bold">QuizMaster Pro</h1>
                </div>
                <nav id="nav-links" class="hidden md:flex space-x-6">
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="home">Home</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="quizzes">Quizzes</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="create">Create Quiz</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="profile">Profile</a>
                </nav>
                <div id="auth-buttons" class="flex space-x-3">
                    <button id="login-btn" class="bg-white text-indigo-600 px-4 py-1 rounded-full font-medium hover:bg-indigo-100 transition">Login</button>
                    <button id="register-btn" class="bg-indigo-500 text-white px-4 py-1 rounded-full font-medium hover:bg-indigo-700 transition">Register</button>
                </div>
                <div id="user-menu" class="hidden items-center space-x-4">
                    <span id="username-display" class="font-medium"></span>
                    <div class="relative">
                        <button id="user-avatar" class="w-10 h-10 rounded-full bg-indigo-400 flex items-center justify-center text-white font-bold cursor-pointer"></button>
                        <div id="dropdown-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-indigo-100" data-page="profile">Profile</a>
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-indigo-100" id="logout-btn">Logout</a>
                        </div>
                    </div>
                </div>
                <button id="mobile-menu-btn" class="md:hidden text-white">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden bg-indigo-700 px-4 py-2">
                <div class="flex flex-col space-y-3">
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="home">Home</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="quizzes">Quizzes</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="create">Create Quiz</a>
                    <a href="#" class="nav-link hover:text-indigo-200 transition" data-page="profile">Profile</a>
                    <div class="pt-2 border-t border-indigo-500">
                        <button id="mobile-login-btn" class="bg-white text-indigo-600 px-4 py-1 rounded-full font-medium hover:bg-indigo-100 transition w-full">Login</button>
                        <button id="mobile-register-btn" class="bg-indigo-500 text-white px-4 py-1 rounded-full font-medium hover:bg-indigo-700 transition w-full mt-2">Register</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow container mx-auto px-4 py-6">
            <!-- Home Page -->
            <div id="home-page" class="page fade-in">
                <div class="bg-white rounded-xl shadow-md overflow-hidden p-6 mb-6">
                    <div class="md:flex">
                        <div class="md:flex-shrink-0">
                            <img class="h-48 w-full object-cover md:w-48 rounded-lg" src="https://images.unsplash.com/photo-1555431189-0fabf2fea39e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Quiz illustration">
                        </div>
                        <div class="p-8">
                            <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold">Welcome to</div>
                            <h1 class="block mt-1 text-3xl leading-tight font-bold text-gray-900">QuizMaster Pro</h1>
                            <p class="mt-2 text-gray-600">Create, play and share quizzes with your friends. Test your knowledge on various topics or create your own quizzes to challenge others.</p>
                            <div class="mt-4">
                                <button id="get-started-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">Get Started</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition">
                        <div class="text-indigo-500 mb-4">
                            <i class="fas fa-play-circle text-4xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Play Quizzes</h3>
                        <p class="text-gray-600">Test your knowledge with thousands of quizzes on various topics from science to pop culture.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition">
                        <div class="text-indigo-500 mb-4">
                            <i class="fas fa-plus-circle text-4xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Create Quizzes</h3>
                        <p class="text-gray-600">Create your own quizzes with multiple question types and share them with your friends or the community.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition">
                        <div class="text-indigo-500 mb-4">
                            <i class="fas fa-chart-line text-4xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Track Progress</h3>
                        <p class="text-gray-600">Monitor your performance with detailed statistics and see how you compare with other players.</p>
                    </div>
                </div>

                <div class="mt-8">
                    <h2 class="text-2xl font-bold mb-4">Popular Quizzes</h2>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="popular-quizzes">
                        <!-- Popular quizzes will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Quizzes Page -->
            <div id="quizzes-page" class="page hidden">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">Browse Quizzes</h2>
                    <div class="flex space-x-2">
                        <div class="relative">
                            <input type="text" id="quiz-search" placeholder="Search quizzes..." class="pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>
                        <select id="quiz-category" class="border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="">All Categories</option>
                            <option value="Science">Science</option>
                            <option value="History">History</option>
                            <option value="Geography">Geography</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Sports">Sports</option>
                            <option value="Technology">Technology</option>
                        </select>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="quizzes-container">
                    <!-- Quizzes will be loaded here -->
                </div>

                <div class="mt-6 flex justify-center">
                    <button id="load-more-quizzes" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">Load More</button>
                </div>
            </div>

            <!-- Create Quiz Page -->
            <div id="create-page" class="page hidden">
                <h2 class="text-2xl font-bold mb-6">Create a New Quiz</h2>
                
                <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                    <div class="mb-4">
                        <label for="quiz-title" class="block text-gray-700 font-medium mb-2">Quiz Title</label>
                        <input type="text" id="quiz-title" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter quiz title">
                    </div>
                    
                    <div class="mb-4">
                        <label for="quiz-description" class="block text-gray-700 font-medium mb-2">Description</label>
                        <textarea id="quiz-description" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" rows="3" placeholder="Enter quiz description"></textarea>
                    </div>
                    
                    <div class="mb-4">
                        <label for="quiz-category-create" class="block text-gray-700 font-medium mb-2">Category</label>
                        <select id="quiz-category-create" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="Science">Science</option>
                            <option value="History">History</option>
                            <option value="Geography">Geography</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Sports">Sports</option>
                            <option value="Technology">Technology</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 font-medium mb-2">Quiz Visibility</label>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center">
                                <input type="radio" name="quiz-visibility" value="public" checked class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-2">Public (Visible to everyone)</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="quiz-visibility" value="private" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                <span class="ml-2">Private (Only you can see)</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div id="questions-container">
                    <!-- Questions will be added here -->
                </div>
                
                <div class="flex justify-between mt-6">
                    <button id="add-question-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">
                        <i class="fas fa-plus mr-2"></i> Add Question
                    </button>
                    <button id="save-quiz-btn" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition">
                        <i class="fas fa-save mr-2"></i> Save Quiz
                    </button>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile-page" class="page hidden">
                <div class="bg-white rounded-xl shadow-md overflow-hidden mb-6">
                    <div class="bg-indigo-600 h-32"></div>
                    <div class="px-6 py-4 relative">
                        <div class="absolute -top-12 left-6">
                            <div class="w-24 h-24 rounded-full bg-indigo-400 flex items-center justify-center text-white text-3xl font-bold" id="profile-avatar">
                                <!-- Initials will go here -->
                            </div>
                        </div>
                        <div class="ml-32">
                            <h2 class="text-2xl font-bold" id="profile-name">Loading...</h2>
                            <p class="text-gray-600" id="profile-email">user@example.com</p>
                            <div class="flex space-x-4 mt-2">
                                <span class="text-sm text-gray-500">Member since: <span id="member-since">2023</span></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="md:col-span-2">
                        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Your Stats</h3>
                            <div class="grid grid-cols-3 gap-4 text-center">
                                <div class="p-4 border rounded-lg">
                                    <div class="text-3xl font-bold text-indigo-600" id="quizzes-taken">0</div>
                                    <div class="text-gray-600">Quizzes Taken</div>
                                </div>
                                <div class="p-4 border rounded-lg">
                                    <div class="text-3xl font-bold text-indigo-600" id="correct-answers">0</div>
                                    <div class="text-gray-600">Correct Answers</div>
                                </div>
                                <div class="p-4 border rounded-lg">
                                    <div class="text-3xl font-bold text-indigo-600" id="avg-score">0%</div>
                                    <div class="text-gray-600">Average Score</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold">Your Quizzes</h3>
                                <button id="refresh-quizzes-btn" class="text-indigo-600 hover:text-indigo-800">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                            <div id="user-quizzes">
                                <!-- User's quizzes will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Recent Activity</h3>
                            <div id="recent-activity">
                                <!-- Recent activity will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h3 class="text-xl font-bold mb-4">Account Settings</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-1">Change Password</label>
                                    <input type="password" id="current-password" placeholder="Current password" class="w-full px-3 py-2 border rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <input type="password" id="new-password" placeholder="New password" class="w-full px-3 py-2 border rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <input type="password" id="confirm-password" placeholder="Confirm new password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                    <button id="change-password-btn" class="mt-2 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">Update Password</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Play Page -->
            <div id="quiz-play-page" class="page hidden">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold" id="quiz-play-title">Quiz Title</h2>
                            <p class="text-gray-600" id="quiz-play-author">By Author</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="text-center">
                                <div class="text-sm text-gray-500">Question</div>
                                <div class="font-bold"><span id="current-question-num">1</span>/<span id="total-questions">10</span></div>
                            </div>
                            <div class="relative w-12 h-12">
                                <svg class="w-full h-full" viewBox="0 0 36 36">
                                    <circle cx="18" cy="18" r="16" fill="none" stroke="#e6e6e6" stroke-width="2"></circle>
                                    <circle cx="18" cy="18" r="16" fill="none" stroke="#3b82f6" stroke-width="2" stroke-dasharray="100" stroke-dashoffset="0" class="progress-ring__circle"></circle>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center text-xs font-bold" id="time-remaining">30</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <div class="bg-gray-100 rounded-lg p-4 mb-4">
                            <h3 class="text-lg font-medium" id="quiz-question-text">Question text goes here</h3>
                        </div>
                        
                        <div id="quiz-options" class="grid md:grid-cols-2 gap-3">
                            <!-- Options will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="quiz-prev-btn" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 transition hidden">
                            <i class="fas fa-arrow-left mr-2"></i> Previous
                        </button>
                        <button id="quiz-next-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition ml-auto">
                            Next <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                        <button id="quiz-submit-btn" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition hidden">
                            Submit Quiz <i class="fas fa-check ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quiz Results Page -->
            <div id="quiz-results-page" class="page hidden">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold mb-2">Quiz Completed!</h2>
                        <p class="text-gray-600 mb-4">You've finished <span id="results-quiz-title" class="font-medium">Quiz Title</span></p>
                        
                        <div class="flex justify-center">
                            <div class="relative w-40 h-40">
                                <svg class="w-full h-full" viewBox="0 0 36 36">
                                    <circle cx="18" cy="18" r="16" fill="none" stroke="#e6e6e6" stroke-width="2"></circle>
                                    <circle cx="18" cy="18" r="16" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="100" stroke-dashoffset="0" class="progress-ring__circle"></circle>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="text-center">
                                        <div class="text-4xl font-bold" id="results-score">80%</div>
                                        <div class="text-gray-600">Score</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-2xl font-bold text-indigo-600" id="results-correct">8</div>
                            <div class="text-gray-600">Correct Answers</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-2xl font-bold text-indigo-600" id="results-incorrect">2</div>
                            <div class="text-gray-600">Incorrect Answers</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="text-2xl font-bold text-indigo-600" id="results-time">1:30</div>
                            <div class="text-gray-600">Time Taken</div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-bold mb-4">Question Review</h3>
                        <div id="question-review">
                            <!-- Question review will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="flex justify-center space-x-4">
                        <button id="results-retry-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition">
                            <i class="fas fa-redo mr-2"></i> Retry Quiz
                        </button>
                        <button id="results-share-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">
                            <i class="fas fa-share-alt mr-2"></i> Share Results
                        </button>
                        <button id="results-home-btn" class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition">
                            <i class="fas fa-home mr-2"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>

            <!-- Share Modal -->
            <div id="share-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-xl p-6 w-full max-w-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Share Quiz</h3>
                        <button id="close-share-modal" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 font-medium mb-2">Share Link</label>
                        <div class="flex">
                            <input type="text" id="share-link" class="flex-grow px-3 py-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" readonly>
                            <button id="copy-link-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-r-lg hover:bg-indigo-700 transition">
                                Copy
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 font-medium mb-2">Share Via</label>
                        <div class="flex space-x-2">
                            <button class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition">
                                <i class="fab fa-facebook-f"></i>
                            </button>
                            <button class="bg-blue-400 text-white p-2 rounded-full hover:bg-blue-500 transition">
                                <i class="fab fa-twitter"></i>
                            </button>
                            <button class="bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition">
                                <i class="fab fa-google"></i>
                            </button>
                            <button class="bg-gray-800 text-white p-2 rounded-full hover:bg-gray-900 transition">
                                <i class="fab fa-github"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Login Modal -->
            <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-xl p-6 w-full max-w-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Login to QuizMaster</h3>
                        <button id="close-login-modal" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <label for="login-email" class="block text-gray-700 font-medium mb-2">Email</label>
                        <input type="email" id="login-email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter your email">
                    </div>
                    
                    <div class="mb-4">
                        <label for="login-password" class="block text-gray-700 font-medium mb-2">Password</label>
                        <input type="password" id="login-password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter your password">
                    </div>
                    
                    <div class="mb-4 flex justify-between items-center">
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-gray-700">Remember me</span>
                        </label>
                        <a href="#" class="text-indigo-600 hover:text-indigo-800 text-sm">Forgot password?</a>
                    </div>
                    
                    <button id="submit-login-btn" class="w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition mb-4">
                        Login
                    </button>
                    
                    <div class="text-center text-gray-600">
                        Don't have an account? <a href="#" id="show-register-from-login" class="text-indigo-600 hover:text-indigo-800">Register here</a>
                    </div>
                </div>
            </div>

            <!-- Register Modal -->
            <div id="register-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-xl p-6 w-full max-w-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold">Create an Account</h3>
                        <button id="close-register-modal" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <label for="register-name" class="block text-gray-700 font-medium mb-2">Full Name</label>
                        <input type="text" id="register-name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter your full name">
                    </div>
                    
                    <div class="mb-4">
                        <label for="register-email" class="block text-gray-700 font-medium mb-2">Email</label>
                        <input type="email" id="register-email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter your email">
                    </div>
                    
                    <div class="mb-4">
                        <label for="register-password" class="block text-gray-700 font-medium mb-2">Password</label>
                        <input type="password" id="register-password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Create a password">
                    </div>
                    
                    <div class="mb-4">
                        <label for="register-confirm-password" class="block text-gray-700 font-medium mb-2">Confirm Password</label>
                        <input type="password" id="register-confirm-password" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Confirm your password">
                    </div>
                    
                    <div class="mb-4">
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-gray-700">I agree to the <a href="#" class="text-indigo-600 hover:text-indigo-800">Terms of Service</a> and <a href="#" class="text-indigo-600 hover:text-indigo-800">Privacy Policy</a></span>
                        </label>
                    </div>
                    
                    <button id="submit-register-btn" class="w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition mb-4">
                        Create Account
                    </button>
                    
                    <div class="text-center text-gray-600">
                        Already have an account? <a href="#" id="show-login-from-register" class="text-indigo-600 hover:text-indigo-800">Login here</a>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-8">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4">QuizMaster Pro</h3>
                        <p class="text-gray-400">Create, play and share quizzes with your friends. Test your knowledge on various topics.</p>
                    </div>
                    <div>
                        <h4 class="text-lg font-medium mb-4">Quick Links</h4>
                        <ul class="space-y-2">
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Home</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Quizzes</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Create Quiz</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Profile</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-lg font-medium mb-4">Categories</h4>
                        <ul class="space-y-2">
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Science</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">History</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Geography</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition">Entertainment</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-lg font-medium mb-4">Connect With Us</h4>
                        <div class="flex space-x-4">
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f text-xl"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter text-xl"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram text-xl"></i></a>
                            <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin-in text-xl"></i></a>
                        </div>
                        <div class="mt-4">
                            <p class="text-gray-400">Subscribe to our newsletter</p>
                            <div class="flex mt-2">
                                <input type="email" placeholder="Your email" class="px-3 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none w-full">
                                <button class="bg-indigo-600 text-white px-4 py-2 rounded-r-lg hover:bg-indigo-700 transition">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                    <p>&copy; 2023 QuizMaster Pro. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Data storage
        let users = [];
        let quizzes = [];
        let currentUser = null;
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizTimer = null;
        let timeLeft = 30;
        let quizStartTime = null;
        
        // Initialize with sample data
        function initializeData() {
            // Sample users
            users = [
                {
                    id: 1,
                    name: "John Doe",
                    email: "john@example.com",
                    password: "password123",
                    avatar: "JD",
                    joinedDate: "2023-01-15",
                    stats: {
                        quizzesTaken: 12,
                        correctAnswers: 85,
                        avgScore: 78
                    }
                },
                {
                    id: 2,
                    name: "Jane Smith",
                    email: "jane@example.com",
                    password: "password123",
                    avatar: "JS",
                    joinedDate: "2023-02-20",
                    stats: {
                        quizzesTaken: 8,
                        correctAnswers: 62,
                        avgScore: 85
                    }
                }
            ];
            
            // Sample quizzes
            quizzes = [
                {
                    id: 1,
                    title: "General Knowledge",
                    description: "Test your knowledge on various topics",
                    category: "Science",
                    author: "John Doe",
                    authorId: 1,
                    visibility: "public",
                    createdAt: "2023-03-10",
                    questions: [
                        {
                            id: 1,
                            text: "What is the capital of France?",
                            options: ["London", "Berlin", "Paris", "Madrid"],
                            correctAnswer: 2
                        },
                        {
                            id: 2,
                            text: "Which planet is known as the Red Planet?",
                            options: ["Venus", "Mars", "Jupiter", "Saturn"],
                            correctAnswer: 1
                        },
                        {
                            id: 3,
                            text: "What is the largest mammal?",
                            options: ["Elephant", "Blue Whale", "Giraffe", "Polar Bear"],
                            correctAnswer: 1
                        }
                    ]
                },
                {
                    id: 2,
                    title: "World History",
                    description: "Test your knowledge of world history",
                    category: "History",
                    author: "Jane Smith",
                    authorId: 2,
                    visibility: "public",
                    createdAt: "2023-04-15",
                    questions: [
                        {
                            id: 1,
                            text: "In which year did World War II end?",
                            options: ["1943", "1945", "1947", "1950"],
                            correctAnswer: 1
                        },
                        {
                            id: 2,
                            text: "Who was the first president of the United States?",
                            options: ["Thomas Jefferson", "John Adams", "George Washington", "Abraham Lincoln"],
                            correctAnswer: 2
                        }
                    ]
                },
                {
                    id: 3,
                    title: "Movie Trivia",
                    description: "How well do you know movies?",
                    category: "Entertainment",
                    author: "John Doe",
                    authorId: 1,
                    visibility: "public",
                    createdAt: "2023-05-20",
                    questions: [
                        {
                            id: 1,
                            text: "Who played Jack in Titanic?",
                            options: ["Brad Pitt", "Tom Cruise", "Leonardo DiCaprio", "Johnny Depp"],
                            correctAnswer: 2
                        },
                        {
                            id: 2,
                            text: "Which movie won the Oscar for Best Picture in 2020?",
                            options: ["Parasite", "1917", "Joker", "The Irishman"],
                            correctAnswer: 0
                        }
                    ]
                }
            ];
            
            // Load data from localStorage if available
            const savedUsers = localStorage.getItem('quizAppUsers');
            const savedQuizzes = localStorage.getItem('quizAppQuizzes');
            const savedCurrentUser = localStorage.getItem('quizAppCurrentUser');
            
            if (savedUsers) users = JSON.parse(savedUsers);
            if (savedQuizzes) quizzes = JSON.parse(savedQuizzes);
            if (savedCurrentUser) currentUser = JSON.parse(savedCurrentUser);
        }
        
        // Save data to localStorage
        function saveData() {
            localStorage.setItem('quizAppUsers', JSON.stringify(users));
            localStorage.setItem('quizAppQuizzes', JSON.stringify(quizzes));
            if (currentUser) {
                localStorage.setItem('quizAppCurrentUser', JSON.stringify(currentUser));
            } else {
                localStorage.removeItem('quizAppCurrentUser');
            }
        }
        
        // DOM elements
        const pages = {
            home: document.getElementById('home-page'),
            quizzes: document.getElementById('quizzes-page'),
            create: document.getElementById('create-page'),
            profile: document.getElementById('profile-page'),
            quizPlay: document.getElementById('quiz-play-page'),
            quizResults: document.getElementById('quiz-results-page')
        };
        
        const modals = {
            login: document.getElementById('login-modal'),
            register: document.getElementById('register-modal'),
            share: document.getElementById('share-modal')
        };
        
        // Navigation functions
        function showPage(pageId) {
            // Hide all pages
            Object.values(pages).forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show the requested page
            if (pages[pageId]) {
                pages[pageId].classList.remove('hidden');
                pages[pageId].classList.add('fade-in');
                
                // Load page-specific content
                switch(pageId) {
                    case 'home':
                        loadHomePage();
                        break;
                    case 'quizzes':
                        loadQuizzesPage();
                        break;
                    case 'create':
                        if (!currentUser) {
                            showModal('login');
                            showPage('home');
                            return;
                        }
                        loadCreatePage();
                        break;
                    case 'profile':
                        if (!currentUser) {
                            showModal('login');
                            showPage('home');
                            return;
                        }
                        loadProfilePage();
                        break;
                }
            }
        }
        
        function showModal(modalId) {
            modals[modalId].classList.remove('hidden');
        }
        
        function hideModal(modalId) {
            modals[modalId].classList.add('hidden');
        }
        
        // Update UI based on authentication state
        function updateAuthUI() {
            const authButtons = document.getElementById('auth-buttons');
            const userMenu = document.getElementById('user-menu');
            const navLinks = document.querySelectorAll('.nav-link');
            
            if (currentUser) {
                authButtons.classList.add('hidden');
                userMenu.classList.remove('hidden');
                
                // Set username and avatar
                document.getElementById('username-display').textContent = currentUser.name;
                document.getElementById('user-avatar').textContent = currentUser.avatar;
                
                // Enable all nav links
                navLinks.forEach(link => {
                    link.classList.remove('hidden');
                });
            } else {
                authButtons.classList.remove('hidden');
                userMenu.classList.add('hidden');
                
                // Disable some nav links
                navLinks.forEach(link => {
                    if (link.dataset.page === 'create' || link.dataset.page === 'profile') {
                        link.classList.add('hidden');
                    }
                });
            }
        }
        
        // Page load functions
        function loadHomePage() {
            const popularQuizzesContainer = document.getElementById('popular-quizzes');
            popularQuizzesContainer.innerHTML = '';
            
            // Sort quizzes by creation date (newest first) and take first 6
            const sortedQuizzes = [...quizzes]
                .filter(q => q.visibility === 'public')
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 6);
            
            sortedQuizzes.forEach(quiz => {
                const quizCard = document.createElement('div');
                quizCard.className = 'bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition cursor-pointer';
                quizCard.dataset.quizId = quiz.id;
                quizCard.innerHTML = `
                    <div class="h-40 bg-indigo-100 flex items-center justify-center">
                        <i class="fas fa-question-circle text-5xl text-indigo-500"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">${quiz.title}</h3>
                        <p class="text-gray-600 text-sm mb-2">${quiz.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-indigo-500 font-medium">${quiz.category}</span>
                            <span class="text-xs text-gray-500">${quiz.questions.length} questions</span>
                        </div>
                    </div>
                `;
                quizCard.addEventListener('click', () => startQuiz(quiz.id));
                popularQuizzesContainer.appendChild(quizCard);
            });
        }
        
        function loadQuizzesPage() {
            const quizzesContainer = document.getElementById('quizzes-container');
            quizzesContainer.innerHTML = '';
            
            const filteredQuizzes = filterQuizzes();
            
            if (filteredQuizzes.length === 0) {
                quizzesContainer.innerHTML = `
                    <div class="col-span-3 text-center py-10">
                        <i class="fas fa-question-circle text-5xl text-gray-400 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">No quizzes found</h3>
                        <p class="text-gray-600">Try adjusting your search or create your own quiz!</p>
                    </div>
                `;
                return;
            }
            
            filteredQuizzes.forEach(quiz => {
                const quizCard = document.createElement('div');
                quizCard.className = 'bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition cursor-pointer';
                quizCard.dataset.quizId = quiz.id;
                quizCard.innerHTML = `
                    <div class="h-40 bg-indigo-100 flex items-center justify-center">
                        <i class="fas fa-question-circle text-5xl text-indigo-500"></i>
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1">${quiz.title}</h3>
                        <p class="text-gray-600 text-sm mb-2">${quiz.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-indigo-500 font-medium">${quiz.category}</span>
                            <div class="flex items-center space-x-2">
                                <span class="text-xs text-gray-500">${quiz.questions.length} questions</span>
                                ${quiz.visibility === 'private' ? '<span class="text-xs bg-gray-200 px-2 py-1 rounded">Private</span>' : ''}
                            </div>
                        </div>
                    </div>
                `;
                quizCard.addEventListener('click', () => startQuiz(quiz.id));
                quizzesContainer.appendChild(quizCard);
            });
        }
        
        function filterQuizzes() {
            const searchTerm = document.getElementById('quiz-search').value.toLowerCase();
            const category = document.getElementById('quiz-category').value;
            
            return quizzes.filter(quiz => {
                // Filter by visibility (only show public quizzes or user's own quizzes)
                const isVisible = quiz.visibility === 'public' || 
                                (currentUser && quiz.authorId === currentUser.id);
                
                // Filter by search term
                const matchesSearch = quiz.title.toLowerCase().includes(searchTerm) || 
                                     quiz.description.toLowerCase().includes(searchTerm);
                
                // Filter by category
                const matchesCategory = !category || quiz.category === category;
                
                return isVisible && matchesSearch && matchesCategory;
            });
        }
        
        function loadCreatePage() {
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = '';
            
            // Reset form
            document.getElementById('quiz-title').value = '';
            document.getElementById('quiz-description').value = '';
            document.getElementById('quiz-category-create').value = 'Science';
            document.querySelector('input[name="quiz-visibility"][value="public"]').checked = true;
            
            // Add first question
            addQuestion();
        }
        
        function addQuestion() {
            const questionsContainer = document.getElementById('questions-container');
            const questionCount = questionsContainer.children.length + 1;
            
            const questionDiv = document.createElement('div');
            questionDiv.className = 'bg-white rounded-xl shadow-md p-6 mb-6 question-card';
            questionDiv.dataset.questionId = Date.now(); // Unique ID for the question
            
            questionDiv.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">Question ${questionCount}</h3>
                    <button class="delete-question-btn text-red-500 hover:text-red-700">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 font-medium mb-2">Question Text</label>
                    <input type="text" class="question-text w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Enter question text">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 font-medium mb-2">Options</label>
                    <div class="options-container space-y-2">
                        <div class="flex items-center">
                            <input type="radio" name="correct-answer-${questionCount}" value="0" class="correct-answer h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <input type="text" class="option-text ml-2 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full" placeholder="Option 1">
                            <button class="delete-option-btn ml-2 text-red-500 hover:text-red-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" name="correct-answer-${questionCount}" value="1" class="correct-answer h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <input type="text" class="option-text ml-2 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full" placeholder="Option 2">
                            <button class="delete-option-btn ml-2 text-red-500 hover:text-red-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <button class="add-option-btn mt-2 text-indigo-600 hover:text-indigo-800 text-sm">
                        <i class="fas fa-plus mr-1"></i> Add Option
                    </button>
                </div>
            `;
            
            questionsContainer.appendChild(questionDiv);
            
            // Add event listeners for the new question
            const deleteBtn = questionDiv.querySelector('.delete-question-btn');
            deleteBtn.addEventListener('click', () => {
                if (questionsContainer.children.length > 1) {
                    questionDiv.remove();
                    updateQuestionNumbers();
                } else {
                    alert('A quiz must have at least one question!');
                }
            });
            
            const addOptionBtn = questionDiv.querySelector('.add-option-btn');
            addOptionBtn.addEventListener('click', () => {
                const optionsContainer = questionDiv.querySelector('.options-container');
                const optionCount = optionsContainer.children.length;
                
                if (optionCount >= 4) {
                    alert('Maximum 4 options per question!');
                    return;
                }
                
                const optionDiv = document.createElement('div');
                optionDiv.className = 'flex items-center';
                optionDiv.innerHTML = `
                    <input type="radio" name="correct-answer-${questionCount}" value="${optionCount}" class="correct-answer h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                    <input type="text" class="option-text ml-2 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full" placeholder="Option ${optionCount + 1}">
                    <button class="delete-option-btn ml-2 text-red-500 hover:text-red-700">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                optionsContainer.appendChild(optionDiv);
                
                // Add event listener for delete option button
                const deleteOptionBtn = optionDiv.querySelector('.delete-option-btn');
                deleteOptionBtn.addEventListener('click', () => {
                    if (optionsContainer.children.length > 2) {
                        optionDiv.remove();
                        updateCorrectAnswerRadios(questionDiv);
                    } else {
                        alert('A question must have at least 2 options!');
                    }
                });
            });
            
            // Add event listeners for existing delete option buttons
            const deleteOptionBtns = questionDiv.querySelectorAll('.delete-option-btn');
            deleteOptionBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const optionDiv = e.target.closest('.flex.items-center');
                    const optionsContainer = questionDiv.querySelector('.options-container');
                    
                    if (optionsContainer.children.length > 2) {
                        optionDiv.remove();
                        updateCorrectAnswerRadios(questionDiv);
                    } else {
                        alert('A question must have at least 2 options!');
                    }
                });
            });
        }
        
        function updateQuestionNumbers() {
            const questionsContainer = document.getElementById('questions-container');
            const questionCards = questionsContainer.querySelectorAll('.question-card');
            
            questionCards.forEach((card, index) => {
                const questionTitle = card.querySelector('h3');
                questionTitle.textContent = `Question ${index + 1}`;
                
                // Update radio button names to match new question numbers
                const correctAnswers = card.querySelectorAll('.correct-answer');
                correctAnswers.forEach(radio => {
                    radio.name = `correct-answer-${index + 1}`;
                });
            });
        }
        
        function updateCorrectAnswerRadios(questionDiv) {
            const optionsContainer = questionDiv.querySelector('.options-container');
            const options = optionsContainer.querySelectorAll('.flex.items-center');
            
            options.forEach((option, index) => {
                const radio = option.querySelector('.correct-answer');
                radio.value = index;
            });
        }
        
        function loadProfilePage() {
            // Set profile info
            document.getElementById('profile-name').textContent = currentUser.name;
            document.getElementById('profile-email').textContent = currentUser.email;
            document.getElementById('profile-avatar').textContent = currentUser.avatar;
            document.getElementById('member-since').textContent = new Date(currentUser.joinedDate).getFullYear();
            
            // Set stats
            document.getElementById('quizzes-taken').textContent = currentUser.stats.quizzesTaken;
            document.getElementById('correct-answers').textContent = currentUser.stats.correctAnswers;
            document.getElementById('avg-score').textContent = `${currentUser.stats.avgScore}%`;
            
            // Load user's quizzes
            loadUserQuizzes();
            
            // Load recent activity
            loadRecentActivity();
        }
        
        function loadUserQuizzes() {
            const userQuizzesContainer = document.getElementById('user-quizzes');
            userQuizzesContainer.innerHTML = '';
            
            const userQuizzes = quizzes.filter(q => q.authorId === currentUser.id);
            
            if (userQuizzes.length === 0) {
                userQuizzesContainer.innerHTML = `
                    <div class="text-center py-6">
                        <i class="fas fa-question-circle text-4xl text-gray-400 mb-3"></i>
                        <h4 class="text-lg font-medium mb-1">No quizzes created yet</h4>
                        <p class="text-gray-600 mb-3">Create your first quiz and share it with others!</p>
                        <button class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition" data-page="create">
                            Create Quiz
                        </button>
                    </div>
                `;
                return;
            }
            
            userQuizzes.forEach(quiz => {
                const quizCard = document.createElement('div');
                quizCard.className = 'border-b border-gray-200 py-4';
                quizCard.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <h4 class="font-medium">${quiz.title}</h4>
                            <p class="text-sm text-gray-600">${quiz.category} • ${quiz.questions.length} questions</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="play-quiz-btn text-indigo-600 hover:text-indigo-800" data-quiz-id="${quiz.id}">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="edit-quiz-btn text-gray-600 hover:text-gray-800" data-quiz-id="${quiz.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="share-quiz-btn text-green-600 hover:text-green-800" data-quiz-id="${quiz.id}">
                                <i class="fas fa-share-alt"></i>
                            </button>
                            <button class="delete-quiz-btn text-red-600 hover:text-red-800" data-quiz-id="${quiz.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                userQuizzesContainer.appendChild(quizCard);
                
                // Add event listeners
                quizCard.querySelector('.play-quiz-btn').addEventListener('click', (e) => {
                    const quizId = parseInt(e.currentTarget.dataset.quizId);
                    startQuiz(quizId);
                });
                
                quizCard.querySelector('.edit-quiz-btn').addEventListener('click', (e) => {
                    const quizId = parseInt(e.currentTarget.dataset.quizId);
                    editQuiz(quizId);
                });
                
                quizCard.querySelector('.share-quiz-btn').addEventListener('click', (e) => {
                    const quizId = parseInt(e.currentTarget.dataset.quizId);
                    shareQuiz(quizId);
                });
                
                quizCard.querySelector('.delete-quiz-btn').addEventListener('click', (e) => {
                    const quizId = parseInt(e.currentTarget.dataset.quizId);
                    if (confirm('Are you sure you want to delete this quiz?')) {
                        deleteQuiz(quizId);
                    }
                });
            });
        }
        
        function loadRecentActivity() {
            const recentActivityContainer = document.getElementById('recent-activity');
            recentActivityContainer.innerHTML = '';
            
            // Sample recent activity (in a real app, this would come from the backend)
            const activities = [
                { type: 'quiz', action: 'created', title: 'Science Trivia', time: '2 hours ago' },
                { type: 'quiz', action: 'played', title: 'World History', score: '85%', time: '1 day ago' },
                { type: 'quiz', action: 'shared', title: 'Movie Trivia', time: '3 days ago' }
            ];
            
            activities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'border-b border-gray-200 py-3';
                
                let icon, text;
                
                if (activity.type === 'quiz') {
                    if (activity.action === 'created') {
                        icon = '<i class="fas fa-plus-circle text-indigo-500 mr-2"></i>';
                        text = `Created quiz "${activity.title}"`;
                    } else if (activity.action === 'played') {
                        icon = '<i class="fas fa-play-circle text-green-500 mr-2"></i>';
                        text = `Played "${activity.title}" and scored ${activity.score}`;
                    } else if (activity.action === 'shared') {
                        icon = '<i class="fas fa-share-alt text-blue-500 mr-2"></i>';
                        text = `Shared quiz "${activity.title}"`;
                    }
                }
                
                activityItem.innerHTML = `
                    <div class="flex items-center">
                        ${icon}
                        <span class="text-gray-700">${text}</span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">${activity.time}</div>
                `;
                
                recentActivityContainer.appendChild(activityItem);
            });
        }
        
        // Quiz functions
        function startQuiz(quizId) {
            if (!currentUser) {
                showModal('login');
                return;
            }
            
            currentQuiz = quizzes.find(q => q.id === quizId);
            if (!currentQuiz) return;
            
            currentQuestionIndex = 0;
            userAnswers = [];
            
            // Set quiz info
            document.getElementById('quiz-play-title').textContent = currentQuiz.title;
            document.getElementById('quiz-play-author').textContent = `By ${currentQuiz.author}`;
            document.getElementById('total-questions').textContent = currentQuiz.questions.length;
            
            // Show quiz page
            showPage('quizPlay');
            
            // Start timer
            quizStartTime = new Date();
            
            // Load first question
            loadQuestion();
        }
        
        function loadQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            
            // Update question counter
            document.getElementById('current-question-num').textContent = currentQuestionIndex + 1;
            
            // Set question text
            document.getElementById('quiz-question-text').textContent = question.text;
            
            // Load options
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'bg-gray-100 p-4 rounded-lg cursor-pointer hover:bg-gray-200 transition option';
                optionDiv.dataset.optionIndex = index;
                optionDiv.textContent = option;
                
                // If user has already answered this question, show their answer
                if (userAnswers[currentQuestionIndex] !== undefined) {
                    if (userAnswers[currentQuestionIndex] === index) {
                        optionDiv.classList.add('option-selected');
                    }
                    
                    if (index === question.correctAnswer) {
                        optionDiv.classList.add('option-correct');
                    } else if (userAnswers[currentQuestionIndex] === index && userAnswers[currentQuestionIndex] !== question.correctAnswer) {
                        optionDiv.classList.add('option-incorrect');
                    }
                }
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // Update navigation buttons
            document.getElementById('quiz-prev-btn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('quiz-next-btn').classList.toggle('hidden', currentQuestionIndex === currentQuiz.questions.length - 1);
            document.getElementById('quiz-submit-btn').classList.toggle('hidden', currentQuestionIndex !== currentQuiz.questions.length - 1);
            
            // Start timer for this question
            startQuestionTimer();
            
            // Add event listeners to options
            const optionElements = document.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', () => {
                    if (userAnswers[currentQuestionIndex] === undefined) {
                        const selectedIndex = parseInt(option.dataset.optionIndex);
                        userAnswers[currentQuestionIndex] = selectedIndex;
                        
                        // Highlight selected option
                        optionElements.forEach(opt => opt.classList.remove('option-selected'));
                        option.classList.add('option-selected');
                    }
                });
            });
        }
        
        function startQuestionTimer() {
            // Clear previous timer
            if (quizTimer) {
                clearInterval(quizTimer);
            }
            
            timeLeft = 30; // 30 seconds per question
            document.getElementById('time-remaining').textContent = timeLeft;
            
            // Update progress circle
            const circle = document.querySelector('#quiz-play-page .progress-ring__circle');
            const radius = circle.r.baseVal.value;
            const circumference = 2 * Math.PI * radius;
            
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            circle.style.strokeDashoffset = circumference;
            
            // Start countdown
            quizTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('time-remaining').textContent = timeLeft;
                
                // Update progress circle
                const offset = circumference - (timeLeft / 30) * circumference;
                circle.style.strokeDashoffset = offset;
                
                if (timeLeft <= 0) {
                    clearInterval(quizTimer);
                    if (userAnswers[currentQuestionIndex] === undefined) {
                        userAnswers[currentQuestionIndex] = null; // Mark as unanswered
                    }
                    
                    // Auto-advance to next question or submit
                    if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                        nextQuestion();
                    } else {
                        submitQuiz();
                    }
                }
            }, 1000);
        }
        
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }
        
        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }
        
        function submitQuiz() {
            // Clear timer
            clearInterval(quizTimer);
            
            // Calculate results
            let correctCount = 0;
            currentQuiz.questions.forEach((question, index) => {
                if (userAnswers[index] === question.correctAnswer) {
                    correctCount++;
                }
            });
            
            const score = Math.round((correctCount / currentQuiz.questions.length) * 100);
            
            // Calculate time taken
            const endTime = new Date();
            const timeTaken = Math.floor((endTime - quizStartTime) / 1000);
            const minutes = Math.floor(timeTaken / 60);
            const seconds = timeTaken % 60;
            const timeString = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Update user stats
            if (currentUser) {
                currentUser.stats.quizzesTaken++;
                currentUser.stats.correctAnswers += correctCount;
                
                // Recalculate average score
                const totalQuizzes = currentUser.stats.quizzesTaken;
                const totalScore = currentUser.stats.avgScore * (totalQuizzes - 1) + score;
                currentUser.stats.avgScore = Math.round(totalScore / totalQuizzes);
                
                saveData();
            }
            
            // Show results
            document.getElementById('results-score').textContent = `${score}%`;
            document.getElementById('results-correct').textContent = correctCount;
            document.getElementById('results-incorrect').textContent = currentQuiz.questions.length - correctCount;
            document.getElementById('results-time').textContent = timeString;
            document.getElementById('results-quiz-title').textContent = currentQuiz.title;
            
            // Load question review
            const questionReview = document.getElementById('question-review');
            questionReview.innerHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'border-b border-gray-200 py-4';
                
                const isCorrect = userAnswers[index] === question.correctAnswer;
                const userAnswer = userAnswers[index] !== null && userAnswers[index] !== undefined 
                    ? question.options[userAnswers[index]] 
                    : 'Unanswered';
                
                const correctAnswer = question.options[question.correctAnswer];
                
                reviewItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-medium">Question ${index + 1}: ${question.text}</h4>
                        <span class="text-xs px-2 py-1 rounded ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${isCorrect ? 'Correct' : 'Incorrect'}
                        </span>
                    </div>
                    <div class="text-sm mb-1 ${isCorrect ? 'text-green-600' : 'text-red-600'}">
                        Your answer: ${userAnswer}
                    </div>
                    ${!isCorrect ? `<div class="text-sm text-green-600">Correct answer: ${correctAnswer}</div>` : ''}
                `;
                
                questionReview.appendChild(reviewItem);
            });
            
            // Show results page
            showPage('quizResults');
        }
        
        // Quiz management functions
        function saveQuiz() {
            const title = document.getElementById('quiz-title').value.trim();
            const description = document.getElementById('quiz-description').value.trim();
            const category = document.getElementById('quiz-category-create').value;
            const visibility = document.querySelector('input[name="quiz-visibility"]:checked').value;
            
            if (!title) {
                alert('Please enter a quiz title');
                return;
            }
            
            // Collect questions
            const questionCards = document.querySelectorAll('.question-card');
            const questions = [];
            
            for (const card of questionCards) {
                const questionText = card.querySelector('.question-text').value.trim();
                const options = Array.from(card.querySelectorAll('.option-text')).map(input => input.value.trim());
                const correctAnswer = card.querySelector('.correct-answer:checked')?.value;
                
                if (!questionText) {
                    alert('Please enter text for all questions');
                    return;
                }
                
                if (options.some(opt => !opt)) {
                    alert('Please enter text for all options');
                    return;
                }
                
                if (!correctAnswer) {
                    alert('Please select a correct answer for all questions');
                    return;
                }
                
                questions.push({
                    id: questions.length + 1,
                    text: questionText,
                    options: options,
                    correctAnswer: parseInt(correctAnswer)
                });
            }
            
            // Create new quiz or update existing
            const newQuiz = {
                id: quizzes.length > 0 ? Math.max(...quizzes.map(q => q.id)) + 1 : 1,
                title,
                description,
                category,
                author: currentUser.name,
                authorId: currentUser.id,
                visibility,
                questions,
                createdAt: new Date().toISOString().split('T')[0]
            };
            
            quizzes.push(newQuiz);
            saveData();
            
            alert('Quiz saved successfully!');
            showPage('quizzes');
        }
        
        function editQuiz(quizId) {
            const quiz = quizzes.find(q => q.id === quizId);
            if (!quiz) return;
            
            // Set form values
            document.getElementById('quiz-title').value = quiz.title;
            document.getElementById('quiz-description').value = quiz.description;
            document.getElementById('quiz-category-create').value = quiz.category;
            document.querySelector(`input[name="quiz-visibility"][value="${quiz.visibility}"]`).checked = true;
            
            // Clear existing questions
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = '';
            
            // Add questions from the quiz
            quiz.questions.forEach((question, index) => {
                addQuestion();
                
                const questionCard = questionsContainer.children[index];
                questionCard.querySelector('.question-text').value = question.text;
                
                // Clear default options
                const optionsContainer = questionCard.querySelector('.options-container');
                optionsContainer.innerHTML = '';
                
                // Add options
                question.options.forEach((option, optIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'flex items-center';
                    optionDiv.innerHTML = `
                        <input type="radio" name="correct-answer-${index + 1}" value="${optIndex}" class="correct-answer h-4 w-4 text-indigo-600 focus:ring-indigo-500" ${optIndex === question.correctAnswer ? 'checked' : ''}>
                        <input type="text" class="option-text ml-2 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full" value="${option}">
                        <button class="delete-option-btn ml-2 text-red-500 hover:text-red-700">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    
                    optionsContainer.appendChild(optionDiv);
                    
                    // Add event listener for delete option button
                    const deleteOptionBtn = optionDiv.querySelector('.delete-option-btn');
                    deleteOptionBtn.addEventListener('click', () => {
                       
</html>