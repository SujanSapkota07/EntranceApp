<form method="post">
    {% csrf_token %}
    {% for question in questions %}
      <div class="question-block" style="{% if forloop.first %}display:block;{% else %}display:none;{% endif %}">
        <h3>Question {{ forloop.counter }}:</h3>
        <p>{{ question.question_text }}</p>
        {% for option in question.options.all %}
          <input type="radio" name="q{{ forloop.counter }}" value="{{ option.id }}"> {{ option.option_text }}<br>
        {% endfor %}
      </div>
    {% endfor %}
    <br>
    <button type="button" id="prev">Previous</button>
    <button type="button" id="next">Next</button>
    <button type="submit" id="submit" style="display:none;">Submit</button>
  </form>
  
  <script>
  const questions = document.querySelectorAll('.question-block');
  let current = 0;
  
  document.getElementById('next').onclick = function() {
      questions[current].style.display = 'none';
      current++;
      if (current < questions.length) {
          questions[current].style.display = 'block';
      }
      if (current == questions.length - 1) {
          document.getElementById('next').style.display = 'none';
          document.getElementById('submit').style.display = 'inline';
      }
      document.getElementById('prev').style.display = 'inline';
  };
  
  document.getElementById('prev').onclick = function() {
      questions[current].style.display = 'none';
      current--;
      questions[current].style.display = 'block';
      if (current == 0) {
          document.getElementById('prev').style.display = 'none';
      }
      document.getElementById('next').style.display = 'inline';
      document.getElementById('submit').style.display = 'none';
  };
  </script>
  